var data=[];var translate_table=new Map();var dictionary=[];var valid_letter=/^[a-zA-Z]/;var translates;var init=function(){data=getOfflineDB();initializeLodifier(data);buildDictionary()}
var lodify=function(){var clear=document.getElementById("clear_text").value;if(clear.trim().length>0){var lodified=lodifier(clear);document.getElementById("lodified_text").value=lodified}else{console.log("Empty Text")
alert("Oooooppps ! Empty text not allowed.")}}
function lodifier(data){console.log("Lodifying :",data);var result="";var words=data.toLowerCase().trim().split(" ");for(var i=0;i<words.length;i++){var translated=words[i].replace(/[^A-Za-z]/g,"");translated=translate_table.get(translated);translated=translated!==undefined?translated:words[i];result+=translated+" "}
console.log("Lodified Term :",result);return result}
var reverseLodify=function(){var clear=document.getElementById("lodified_text").value;if(clear.trim().length>0){var reversi=reverseLodifier(clear);document.getElementById("clear_text").value=reversi}else{console.log("Empty Text")
alert("Oooooppps ! Empty text not allowed.")}};function reverseLodifier(data){console.log("Reverse Lodifying :",data)
var result="";var words=data.toLowerCase().trim().split(" ");for(var i=0;i<words.length;i++){var translated=words[i].replace(/[^A-Za-z]/g,"");translated=getKey(translated);translated=translated!==undefined?translated:words[i];result+=translated+" "}
console.log("Reverse Lodified Term :",result);return result}
var getKey=function(word){var foundKey;for(var[key,value]of translate_table.entries()){if(value===word){foundKey=key;break}}
return foundKey};function initializeLodifier(data){buildTable(data)}
function buildTable(data){translate_table.clear();for(var i=0;i<data.length;i++){translate_table.set(data[i]._id,data[i].lodi)}
console.log("Translate Table :",translate_table)}
function getOfflineDB(){var offlineDB=[];for(var key in offlineTerms){offlineDB.push({_id:key,lodi:offlineTerms[key],meaning:"",approved:1,counts:0})}
console.log("Lodifier OfflineDB:",offlineDB);return offlineDB}
var offlineTerms={pare:"erp",pre:"erp",idol:"lodi",idols:"lodis",kain:"enka",kaen:"enka",salamat:"matsala",bro:"orb",bros:"orbs",brother:"orb",brothers:"orbs",malupit:"petmalu",malupet:"petmalu",ambulance:"ecnalubma",ambulansya:"ecnalubma",power:"werpa",pawer:"werpa"};function buildDictionary(){var main=document.createElement("ul");for(var i=0;i<data.length;i++){var list=document.createElement("li");list.innerHTML=data[i]._id+" : "+data[i].lodi;main.appendChild(list)}
document.getElementById("lodictionary").appendChild(main)}
window.lodify=lodify;window.reverseLodify=reverseLodify;window.init=init